var e,t,n,r,i,a=-1,o=function(e){addEventListener(`pageshow`,(function(t){t.persisted&&(a=t.timeStamp,e(t))}),!0)},s=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType(`navigation`)[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},c=function(){var e=s();return e&&e.activationStart||0},l=function(e,t){var n=s(),r=`navigate`;return a>=0?r=`back-forward-cache`:n&&(document.prerendering||c()>0?r=`prerender`:document.wasDiscarded?r=`restore`:n.type&&(r=n.type.replace(/_/g,`-`))),{name:e,value:t===void 0?-1:t,rating:`good`,delta:0,entries:[],id:`v4-${Date.now()}-${Math.floor(8999999999999*Math.random())+0xe8d4a51000}`,navigationType:r}},u=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},d=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||i===void 0)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?`poor`:e>t[0]?`needs-improvement`:`good`}(t.value,n),e(t))}},f=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},p=function(e){document.addEventListener(`visibilitychange`,(function(){document.visibilityState===`hidden`&&e()}))},m=function(e){var t=!1;return function(){t||=(e(),!0)}},h=-1,g=function(){return document.visibilityState!==`hidden`||document.prerendering?1/0:0},_=function(e){document.visibilityState===`hidden`&&h>-1&&(h=e.type===`visibilitychange`?e.timeStamp:0,y())},v=function(){addEventListener(`visibilitychange`,_,!0),addEventListener(`prerenderingchange`,_,!0)},y=function(){removeEventListener(`visibilitychange`,_,!0),removeEventListener(`prerenderingchange`,_,!0)},b=function(){return h<0&&(h=g(),v(),o((function(){setTimeout((function(){h=g(),v()}),0)}))),{get firstHiddenTime(){return h}}},x=function(e){document.prerendering?addEventListener(`prerenderingchange`,(function(){return e()}),!0):e()},S=[1800,3e3],C=function(e,t){t||={},x((function(){var n,r=b(),i=l(`FCP`),a=u(`paint`,(function(e){e.forEach((function(e){e.name===`first-contentful-paint`&&(a.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-c(),0),i.entries.push(e),n(!0)))}))}));a&&(n=d(e,i,S,t.reportAllChanges),o((function(r){i=l(`FCP`),n=d(e,i,S,t.reportAllChanges),f((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},w=[.1,.25],T=function(e,t){t||={},C(m((function(){var n,r=l(`CLS`,0),i=0,a=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}})),i>r.value&&(r.value=i,r.entries=a,n())},c=u(`layout-shift`,s);c&&(n=d(e,r,w,t.reportAllChanges),p((function(){s(c.takeRecords()),n(!0)})),o((function(){i=0,r=l(`CLS`,0),n=d(e,r,w,t.reportAllChanges),f((function(){return n()}))})),setTimeout(n,0))})))},E=0,D=1/0,O=0,k=function(e){e.forEach((function(e){e.interactionId&&(D=Math.min(D,e.interactionId),O=Math.max(O,e.interactionId),E=O?(O-D)/7+1:0)}))},A=function(){return e?E:performance.interactionCount||0},j=function(){`interactionCount`in performance||e||(e=u(`event`,k,{type:`event`,buffered:!0,durationThreshold:0}))},M=[],N=new Map,P=0,F=function(){return M[Math.min(M.length-1,Math.floor((A()-P)/50))]},I=[],L=function(e){if(I.forEach((function(t){return t(e)})),e.interactionId||e.entryType===`first-input`){var t=M[M.length-1],n=N.get(e.interactionId);if(n||M.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};N.set(r.id,r),M.push(r)}M.sort((function(e,t){return t.latency-e.latency})),M.length>10&&M.splice(10).forEach((function(e){return N.delete(e.id)}))}}},R=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=m(e),document.visibilityState===`hidden`?e():(n=t(e),p(e)),n},z=[200,500],B=function(e,t){`PerformanceEventTiming`in self&&`interactionId`in PerformanceEventTiming.prototype&&(t||={},x((function(){j();var n,r=l(`INP`),i=function(e){R((function(){e.forEach(L);var t=F();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,n())}))},a=u(`event`,i,{durationThreshold:t.durationThreshold??40});n=d(e,r,z,t.reportAllChanges),a&&(a.observe({type:`first-input`,buffered:!0}),p((function(){i(a.takeRecords()),n(!0)})),o((function(){P=A(),M.length=0,N.clear(),r=l(`INP`),n=d(e,r,z,t.reportAllChanges)})))})))},V=[2500,4e3],H={},U=function(e,t){t||={},x((function(){var n,r=b(),i=l(`LCP`),a=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-c(),0),i.entries=[e],n())}))},s=u(`largest-contentful-paint`,a);if(s){n=d(e,i,V,t.reportAllChanges);var h=m((function(){H[i.id]||(a(s.takeRecords()),s.disconnect(),H[i.id]=!0,n(!0))}));[`keydown`,`click`].forEach((function(e){addEventListener(e,(function(){return R(h)}),{once:!0,capture:!0})})),p(h),o((function(r){i=l(`LCP`),n=d(e,i,V,t.reportAllChanges),f((function(){i.value=performance.now()-r.timeStamp,H[i.id]=!0,n(!0)}))}))}}))},W=[800,1800],G=function e(t){document.prerendering?x((function(){return e(t)})):document.readyState===`complete`?setTimeout(t,0):addEventListener(`load`,(function(){return e(t)}),!0)},K=function(e,t){t||={};var n=l(`TTFB`),r=d(e,n,W,t.reportAllChanges);G((function(){var i=s();i&&(n.value=Math.max(i.responseStart-c(),0),n.entries=[i],r(!0),o((function(){n=l(`TTFB`,0),(r=d(e,n,W,t.reportAllChanges))(!0)})))}))},q={passive:!0,capture:!0},J=new Date,Y=function(e,i){t||(t=i,n=e,r=new Date,Q(removeEventListener),X())},X=function(){if(n>=0&&n<r-J){var e={entryType:`first-input`,name:t.type,target:t.target,cancelable:t.cancelable,startTime:t.timeStamp,processingStart:t.timeStamp+n};i.forEach((function(t){t(e)})),i=[]}},Z=function(e){if(e.cancelable){var t=(e.timeStamp>0xe8d4a51000?new Date:performance.now())-e.timeStamp;e.type==`pointerdown`?function(e,t){var n=function(){Y(e,t),i()},r=function(){i()},i=function(){removeEventListener(`pointerup`,n,q),removeEventListener(`pointercancel`,r,q)};addEventListener(`pointerup`,n,q),addEventListener(`pointercancel`,r,q)}(t,e):Y(t,e)}},Q=function(e){[`mousedown`,`keydown`,`touchstart`,`pointerdown`].forEach((function(t){return e(t,Z,q)}))},$=[100,300];export{w as CLSThresholds,S as FCPThresholds,$ as FIDThresholds,z as INPThresholds,V as LCPThresholds,W as TTFBThresholds,T as onCLS,C as onFCP,B as onINP,U as onLCP,K as onTTFB};